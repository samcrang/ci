#!/usr/bin/env bash
set -e

usage() {
  echo "CI 0.0.1"
  echo "usage: $0 <directory>"
}

subcommand="$1"
case "$subcommand" in
  run)
    project="$2"

    if [ -z "$project" ]; then
      usage
      exit 1
    fi

    bash libexec/ci-run "$project"
    ;;

  init)
    directory="$2"

    if [ -z "$directory" ]; then
      usage
      exit 1
    fi

    bash libexec/ci-init "$directory"
    ;;

  list)
    directory="$2"

    if [ -z "$directory" ]; then
      usage
      exit 1
    fi

    bash libexec/ci-list "$directory"
    ;;
  *)
    usage
    exit 1
    ;;
esac
